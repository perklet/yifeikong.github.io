<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Yifei Kong | Page 13</title>
    <link rel="shortcut icon" type="image/png" href="/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link href="/feed/atom-all.xml" type="application/atom+xml" rel="alternate" title="Yifei Kong Full Atom Feed" />
    <link href="/feed/rss-all.xml" type="application/rss+xml" rel="alternate" title="Yifei Kong Full RSS Feed" />
    <link href="/feed/atom.xml" type="application/atom+xml" rel="alternate" title="Yifei Kong Atom Feed" />
    <link href="/feed/rss.xml" type="application/rss+xml" rel="alternate" title="Yifei Kong RSS Feed" />
    <link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
    <link rel="stylesheet" href="/theme/css/pygments.css" type="text/css" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="Yifei Kong" />
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="https://github.com/">GitHub</a></li>
                <li><a href="/tags">Tags</a></li>
                <li><a href="/categories">Categories</a></li>
                <li><a href="/archives">Archives</a></li>
            </ul>
        </nav>
        <div class="header_box">
            <h1><a href="/">Yifei Kong</a></h1>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Apr 04, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/shi-yong-gson-jie-xi-json-wen-dang.html" rel="bookmark" title="Permanent Link to &quot;使用 Gson 解析 json 文档&quot;">使用 Gson 解析 json 文档</a>
                </h2>

                
                

                <p>解析 json 有两种流派：</p>
<ol>
<li>event-driven json parse: iterate the document, not loading all into memory</li>
<li>document-based json parse: load the full document into memory once for all.</li>
</ol>
<p>在 Python 中可以很容易的解析json文件，Python 中的 json.loads 是 document-based。而在 java 中可以使用 event-driven的。个人感觉这种 event-driven 的解析方式是多此一举，json本来定位就是小型的数据传输和配置存储，如果生成了一个很大的 json，应该考虑换用xml了。</p>
<p>在 Java 中需要生成和 JSON …</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/shi-yong-gson-jie-xi-json-wen-dang.html">posted at 05:56</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/android.html" class="tags">Android</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Apr 04, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/bi-te-bi-xiang-guan-ji-zhu-diao-yan.html" rel="bookmark" title="Permanent Link to &quot;比特币相关技术调研&quot;">比特币相关技术调研</a>
                </h2>

                
                

                <h1>挖矿</h1>
<p>比特币的挖矿算法是CPU密集型的，所以可以使用特殊的硬件，比如 FPGA 或者 ASIC 来加速。后续的好多加密货币，比如ETH 等，都特意选择了不是CPU密集型的算法，从而避免这种使用特殊硬件挖矿造成的不公平。<a href="http://cseweb.ucsd.edu/~mbtaylor/papers/Taylor_Bitcoin_IEEE_Computer_2017.pdf">挖矿硬件的发展</a></p>
<p>比特币的挖矿算法就核心来言就是下面几句：</p>
<div class="highlight"><pre><span></span>while (1)
 HDR[kNoncePos]++;
 IF (SHA256(SHA256(HDR)) &lt; (65535 &lt;&lt; 208)/ DIFFICULTY) return;
</pre></div>


<p>monero 使用了适合于现代CPU的AES算法，参见<a href="https://monero.stackexchange.com/questions/1110/where-can-i-find-a-description-of-the-cryptonight-hash-algorithm">这里</a></p>
<h1>货币</h1>
<p>USDT：风险就在于这家公司随时可能跑路。。
Siacoin: 用于分布式文件存储的货币，但是因为加密算法被比特大陆做出了矿机，所以价格一路狂泻。。(2018-02-04)
Filecoin: 
比特股：https://www.zhihu.com/question/28812361
比特股还衍生出了 bitcny 和 …</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/bi-te-bi-xiang-guan-ji-zhu-diao-yan.html">posted at 05:28</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/bitcoin.html" class="tags">bitcoin</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Apr 04, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/zzru-he-gao-xiao-di-xue-xi-bian-cheng-yu-yan.html" rel="bookmark" title="Permanent Link to &quot;[zz]如何高效地学习编程语言&quot;">[zz]如何高效地学习编程语言</a>
                </h2>

                
                

                <p>个人观点，我觉得记住这些是有用的——当学习一门编程语言的时候，你实际上正在学四件事情。</p>
<ul>
<li>怎么写代码：语法、语义以及资源管理</li>
<li>语言的范式：面向对象，函数式，逻辑等</li>
<li>产出物的生态圈：如何构建、运行可执行文件以及如何使用库</li>
<li>工具：编辑器，编译器，调试器，代码质量检测器（linter）</li>
</ul>
<p>这四项很容易搞混，不幸的结果是，当你遇到问题最终完全找错了地方。</p>
<p>http://lambeta.com/2017/04/18/Techniques-for-Efficiently-Learning-Programming-Languages/</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/zzru-he-gao-xiao-di-xue-xi-bian-cheng-yu-yan.html">posted at 05:26</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/xiang-fa.html" class="tags">想法</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Apr 04, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/sqlite3-he-zai-python-zhong-de-shi-yong-jiao-cheng.html" rel="bookmark" title="Permanent Link to &quot;sqlite3 和在 Python 中的使用教程&quot;">sqlite3 和在 Python 中的使用教程</a>
                </h2>

                
                

                <p>Yifei's notes:</p>
<p>所谓的事务、锁、存储过程、外键等等不适合互联网公司的业务场景，而更适合于“企业级”“IOE”这些应用。</p>
<h1>sqlite3</h1>
<p>% sqlite3 DATABASE</p>
<div class="highlight"><pre><span></span><span class="na">.databases</span>  <span class="no">show</span> <span class="no">databases</span> <span class="no">connected</span> <span class="no">to</span>
<span class="na">.dump</span> <span class="no">TABLE</span> <span class="no">dump</span> <span class="no">table</span> <span class="no">in</span> <span class="no">SQL</span> <span class="no">format</span>
<span class="na">.import</span> <span class="no">FILE</span> <span class="err">?</span><span class="no">TABLE</span><span class="err">?</span>    <span class="no">import</span> <span class="no">SQL</span> <span class="no">data</span> <span class="no">into</span> <span class="no">table</span>
<span class="na">.indices</span> <span class="err">?</span><span class="no">TABLE</span><span class="err">?</span>    <span class="no">show</span> <span class="no">indices</span> <span class="no">of</span> <span class="no">table</span>
<span class="na">.mode</span> <span class="no">MODE</span>  <span class="no">set</span> <span class="no">output</span> <span class="no">mode</span><span class="p">(</span><span class="no">csv</span><span class="p">,</span> <span class="no">column</span>
<span class="na">.read</span> <span class="no">FILE</span>  <span class="no">excute</span> <span class="no">FILE …</span></pre></div>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/sqlite3-he-zai-python-zhong-de-shi-yong-jiao-cheng.html">posted at 05:17</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/shu-ju-ku.html" class="tags">数据库</a>
                    &nbsp;<a href="/tag/python.html" class="tags">Python</a>
                    &nbsp;<a href="/tag/bian-cheng-yu-yan.html" class="tags">编程语言</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Apr 04, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/linux-zhong-de-epoll-he-nginx-zhong-de-ying-yong.html" rel="bookmark" title="Permanent Link to &quot;Linux 中的 epoll 和 nginx 中的应用&quot;">Linux 中的 epoll 和 nginx 中的应用</a>
                </h2>

                
                

                <h1>epoll 的优势</h1>
<p>select 和 poll 每次获取可读写的描述符都需要遍历所有的文件描述符，它们的时间复杂度都是 O(n)，而 epoll 是基于回调的，每个 socket 上有事件发生都会调用回调函数放到 epoll 的就序列表中，因此 epoll_wait 只需要简单地读取这个列表，所以epoll的时间复杂度是 O(1) 的。</p>
<p>添加监控的socket只需要使用 epoll_ctl 添加一次，而获取消息 epoll 使用 mmap 加速内核与用户态的消息传递，不需要每次都把 socket 在内核态和用户态之间考来考取。</p>
<h2>epoll 的工作模式</h2>
<p>epoll 中有两个模式，水平触发（LT）和边缘触发（ET）。其中水平触发如果不做任何操作，就会一直触发，而边缘触发只会触发一次。就好比电工电子里面的两种触发模式。默认模式是 LT</p>
<p>Level …</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/linux-zhong-de-epoll-he-nginx-zhong-de-ying-yong.html">posted at 05:15</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                    &nbsp;<a href="/tag/wang-luo.html" class="tags">网络</a>
                </div>
            </article>            <h4 class="date">Apr 04, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/linux-ci-pan-guan-li-ming-ling.html" rel="bookmark" title="Permanent Link to &quot;Linux 磁盘管理命令&quot;">Linux 磁盘管理命令</a>
                </h2>

                
                

                <h1>挂载磁盘</h1>
<p><code>mount</code> 命令，用于挂载磁盘以及显示相关信息</p>
<div class="highlight"><pre><span></span>mount 显示挂载信息
mount -t TYPE OPTIONS DEVICE DIRECTORY
比如：
     mount -t vfat /dev/sdb1 /mnt/media
</pre></div>


<p>常用的参数</p>
<div class="highlight"><pre><span></span>-a 挂载/etc/fstab 中的所有文件
-f 模拟挂载
-r 只读挂载
-w 读写挂载（默认）
-L 指定 lebel
-u 指定uuid
-o 选项
    ro 只读
    rw 读写
    user 允许普通用户挂载
    check=none 不检查错误
    loop …</pre></div>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/linux-ci-pan-guan-li-ming-ling.html">posted at 04:29</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/hou-duan.html" class="tags">后端</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Apr 04, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/guan-yu-cto-de-yi-xie-xiang-fa.html" rel="bookmark" title="Permanent Link to &quot;关于 CTO 的一些想法&quot;">关于 CTO 的一些想法</a>
                </h2>

                
                

                <p>Hacker News 上看到一篇文章不错，摘录一些笔记，原文链接在最后面</p>
<h1>技术上</h1>
<p>学习新东西的速度远远赶不上问题产生的速度。
虽然 startup 可以很灵活的转型，但是你第一次选择的技术架构不是那么好改的
现在技术的生命期都很短，一些很流行的技术很可能也会很快过期，所以选择任何技术都要做好留下技术债的准备
你写的每一行代码也都可能存在很长一段时间，所以尽量写好吧，哪怕慢一点
不要老想着停下来重构，尽量多谢测试</p>
<h1>关于招人</h1>
<p>只有当你迫切需要这个人的时候才找
招人是为了跟的上增长，而不是为了产生增长
知道需要干什么事情了再招人</p>
<p>总的来说，如果你不确定需不需要招人，那么一般是不需要的。</p>
<p>管理人一直都很简单，保持坦诚沟通，公开地打分，沟通哪些是好的，哪些是坏的。而且这样也可以让做的不好的人有所准备，如果不合适的人，他们也会对自己的表现有所预期。最重要的是，给每个人一个很好的个人发展计划。</p>
<p>最后，在公司发展的过程中，看到新人成长甚至变为 leader 也是一件很让人激动的事情</p>
<p>https://medium.com/sketchdeck-developer-blog/what-i-wish-i-knew-when-i-became-cto-fdc934b790e3?token=e-Jk1uh8fiXG6w_Z</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/guan-yu-cto-de-yi-xie-xiang-fa.html">posted at 04:27</a>
                    &nbsp;&middot;&nbsp;<a href="/category/chuang-ye.html" rel="tag">创业</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/chuang-ye.html" class="tags">创业</a>
                </div>
            </article>            <h4 class="date">Apr 04, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/go-yu-yan-shu-ju-ku-jiao-cheng.html" rel="bookmark" title="Permanent Link to &quot;Go 语言数据库教程&quot;">Go 语言数据库教程</a>
                </h2>

                
                

                <p>在学习 Go 的过程中重新思考了数据库相关的一些知识，之前认为数据库的驱动就是应该有一个 conn 对象表示连接， 然后再有一个 cursor 对象来具体操作。但是 Go 完全没有这么来，而是直接生成一个 db 对象来操作，开始觉得不适应，然而后来我也实在想不起来为什么需要用两个对象了。</p>
<p>另外，为什么要用 ORM 呢？之前用 Django 的ORM比较多，因为生成后台非常方便，而且自己对 SQL 也不是很熟悉，对数据库的操作基本上都在使用这个ORM。然而，现在感觉到如果想要自己的代码性能比较高的话，自己手工写 SQL 几乎是不可避免的，而且 SQL 其实也没有那么吓人。</p>
<p>Go语言中的 <code>database/sql</code> 包提供了一个数据库的访问接口，但是对于不同的数据库，还需要不同的驱动。</p>
<p>一些常见的数据库的驱动参见这里：http://golang.org/s/sqldrivers。</p>
<h1>连接数据库 …</h1>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/go-yu-yan-shu-ju-ku-jiao-cheng.html">posted at 04:10</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/golang.html" class="tags">golang</a>
                    &nbsp;<a href="/tag/bian-cheng-yu-yan.html" class="tags">编程语言</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Apr 04, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/gei-chan-pin-jing-li-de-dai-ma-ke.html" rel="bookmark" title="Permanent Link to &quot;给产品经理的代码课&quot;">给产品经理的代码课</a>
                </h2>

                
                

                <h1>常见误区</h1>
<h2>误区1：这个功能之前我们就有啊，为什么现在还需要时间开发？</h2>
<p>现在有的功能在新的条件下不代表能够直接使用，可能需要彻底需要重新开发，可能包括但不限于以下几种情况：</p>
<ol>
<li>之前的系统能支撑的并发量、连接数都太少，没法满足现在需求</li>
<li>之前的就是催着上线的，代码太trick了，只能临时应付测试一下效果，没法维护，现在如果这个需求明确了，那需要重新设计一个良好的架构</li>
</ol>
<h2>误区2：我不要全部结果，能不能先给我跑一小部分数据？</h2>
<p>好多情况下是不能的。比如说，你需要1000万行的数据，程序员并不是一行一行地从数据源中拷贝复制数据出来；而是写好一个脚本，让计算机去一行一行地产生数据。所以多对于程序员来说，产生一万行数据和产生一千万行数据需要的工作量很可能是相同的。</p>
<p>对于一些需求分析或者其他阶段的简单的数据整合分析的工作，如果产品经理能够自己使用 SQL 从数据库或者 Hive 等处来拉取数据，那么往往比求程序员更快捷一些。甚至分析竞品等等一些简单的数据抓取工作，如果能够利用内部平台来做，其实也都并不难，当然这需要程序员先提供一个不错的平台。</p>
<p>当然，也有很多情况下，一小部分数据和全量数据的确差异很大。这种情况往往是因为数据的产生受到的限制比较多，跑大批量的数据需要重新涉及复杂的架构，这时候往往也需要考虑下是不是需要这么多的数据？</p>
<h2>误区3：这个是线上问题，真的需要赶紧改一下</h2>
<p>如果这个问题现在对用户造成了伤害，</p>
<h1>题外话：我遇到的一些产品经理 …</h1>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/gei-chan-pin-jing-li-de-dai-ma-ke.html">posted at 03:49</a>
                    &nbsp;&middot;&nbsp;<a href="/category/chuang-ye.html" rel="tag">创业</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/chuang-ye.html" class="tags">创业</a>
                    &nbsp;<a href="/tag/yun-ying-yu-chan-pin.html" class="tags">运营与产品</a>
                </div>
            </article>            <h4 class="date">Apr 01, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/fzf-ming-ling-xing-mo-hu-cha-zhao-qi.html" rel="bookmark" title="Permanent Link to &quot;fzf - 命令行模糊查找器&quot;">fzf - 命令行模糊查找器</a>
                </h2>

                
                

                <p>fzf 可以替代 ag 等等工具</p>
<h1>安装</h1>
<p>在 mac 上直接 <code>brew install fzf</code> 就好了</p>
<h1>使用</h1>
<h2>调用 fzf 命令</h2>
<p>直接在命令行输入 fzf 开始模糊查找</p>
<table>
<thead>
<tr>
<th>查找命令</th>
<th>匹配类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>sbtrkt</td>
<td>模糊匹配</td>
<td>匹配sbtrkt</td>
</tr>
<tr>
<td>^music</td>
<td>前缀精确匹配</td>
<td>以music开头</td>
</tr>
<tr>
<td>.mp3^</td>
<td>后缀精确匹配</td>
<td>以.mp3结尾</td>
</tr>
<tr>
<td>'wild</td>
<td>精确匹配(quoted)</td>
<td>精确包含wild</td>
</tr>
<tr>
<td>!fire</td>
<td>inverse-exact-match</td>
<td>不包含fire</td>
</tr>
<tr>
<td>!.mp3$</td>
<td>inverse-suffix-exact-match</td>
<td>不以.mp3结尾</td>
</tr>
</tbody>
</table>
<p><code>|</code>可以做or匹配， 比如 <code>^core go$|rb$|py$</code> 表示以core开头 …</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/fzf-ming-ling-xing-mo-hu-cha-zhao-qi.html">posted at 04:38</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/hou-duan.html" class="tags">后端</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>

                <div class="clear"></div>
                <div class="pages">

                    <a href="/page/12" class="prev_page">&larr;&nbsp;Previous</a>
                    <a href="/page/14" class="next_page">Next&nbsp;&rarr;</a>
                    <span>Page 13 of 34</span>
                </div>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/jody-frankowski/blue-penguin">Blue Penguin</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
                &middot;
                <a href="/feed/atom-all.xml" rel="alternate">Atom Feed</a>
                &middot;
                <a href="/feed/rss-all.xml" rel="alternate">Rss Feed</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>