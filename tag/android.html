<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Yifei Kong | articles tagged "Android"</title>
    <link rel="shortcut icon" type="image/png" href="/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link href="/feed/atom-all.xml" type="application/atom+xml" rel="alternate" title="Yifei Kong Full Atom Feed" />
    <link href="/feed/rss-all.xml" type="application/rss+xml" rel="alternate" title="Yifei Kong Full RSS Feed" />
    <link href="/feed/atom.xml" type="application/atom+xml" rel="alternate" title="Yifei Kong Atom Feed" />
    <link href="/feed/rss.xml" type="application/rss+xml" rel="alternate" title="Yifei Kong RSS Feed" />
    <link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
    <link rel="stylesheet" href="/theme/css/pygments.css" type="text/css" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="Yifei Kong" />
</head>
<body>
    <header>
        <nav>
            <ul>
                <li class="ephemeral selected"><a href="/tag/android.html">Android</a></li>
                <li><a href="/">Home</a></li>
                <li><a href="https://github.com/">GitHub</a></li>
                <li><a href="/tags">Tags</a></li>
                <li><a href="/categories">Categories</a></li>
                <li><a href="/archives">Archives</a></li>
            </ul>
        </nav>
        <div class="header_box">
            <h1><a href="/">Yifei Kong</a></h1>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Apr 04, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/android-sharedpreference.html" rel="bookmark" title="Permanent Link to &quot;Android SharedPreference&quot;">Android SharedPreference</a>
                </h2>

                
                

                <p>用来在应用中存储键值对配置</p>
<p>context.getSharedPreferences("prefName", Context.MODE_PRIVATE)  get SharedPreferecnes instance
sharedPref.getXXX("keyName", defaultValue)  get value from SharedPreferences
sharedPref.edit()   get editor(SharedPreference.Editor)
editor.putXXX("key-name", value)    put value
editor.commit() commit the changes</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/android-sharedpreference.html">posted at 06:01</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/android.html" class="tags selected">Android</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Apr 04, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/android-kai-fa-de-yi-xie-tips.html" rel="bookmark" title="Permanent Link to &quot;Android 开发的一些 tips&quot;">Android 开发的一些 tips</a>
                </h2>

                
                

                <p>Prefer Maven dependency resolution instead of importing jar files. If you explicitly include jar files in your project, they will be of some specific frozen version, such as 2.1.1. Downloading jars and handling updates is cumbersome, this is a problem that Maven solves properly, and is also encouraged …</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/android-kai-fa-de-yi-xie-tips.html">posted at 06:00</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/android.html" class="tags selected">Android</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Apr 04, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/android-lian-jie-wifi.html" rel="bookmark" title="Permanent Link to &quot;Android 连接 WiFi&quot;">Android 连接 WiFi</a>
                </h2>

                
                

                <p>https://stackoverflow.com/questions/4249911/android-how-to-create-eap-wifi-configuration-programmatically</p>
<p>redirects to </p>
<p>https://stackoverflow.com/questions/4374862/how-to-programmatically-create-and-read-wep-eap-wifi-configurations-in-android</p>
<p>https://stackoverflow.com/questions/19170260/how-to-connect-to-wpa-eap-wifi-on-android-with-4-3-api</p>
<p>Android 6.0 changes</p>
<p>https://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-network</p>
<p>working methods</p>
<p>https://stackoverflow.com/questions/12486441/how-can-i-set-proxysettings-and-proxyproperties-on-android-wi-fi-connection-usin</p>
<p>get real ip https://stackoverflow.com/questions …</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/android-lian-jie-wifi.html">posted at 06:00</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/android.html" class="tags selected">Android</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Apr 04, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/maven-basics.html" rel="bookmark" title="Permanent Link to &quot;Maven Basics&quot;">Maven Basics</a>
                </h2>

                
                

                <p>From: http://tutorials.jenkov.com/maven/maven-tutorial.html</p>
<h1>Introduction</h1>
<p>Maven is built around the pom.xml file. In Maven, how to build your project is predefined in the Maven Build Life Cycles, Phases and Goals.  The POM file describes <em>what to build</em>, but most often <em>not how to build it …</em></p>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/maven-basics.html">posted at 05:57</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/android.html" class="tags selected">Android</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Apr 04, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/shi-yong-gson-jie-xi-json-wen-dang.html" rel="bookmark" title="Permanent Link to &quot;使用 Gson 解析 json 文档&quot;">使用 Gson 解析 json 文档</a>
                </h2>

                
                

                <p>解析 json 有两种流派：</p>
<ol>
<li>event-driven json parse: iterate the document, not loading all into memory</li>
<li>document-based json parse: load the full document into memory once for all.</li>
</ol>
<p>在 Python 中可以很容易的解析json文件，Python 中的 json.loads 是 document-based。而在 java 中可以使用 event-driven的。个人感觉这种 event-driven 的解析方式是多此一举，json本来定位就是小型的数据传输和配置存储，如果生成了一个很大的 json，应该考虑换用xml了。</p>
<p>在 Java 中需要生成和 JSON …</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/shi-yong-gson-jie-xi-json-wen-dang.html">posted at 05:56</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/android.html" class="tags selected">Android</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Feb 24, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/an-zhuo-zheng-shu-yu-dai-li-zi-dong-pei-zhi.html" rel="bookmark" title="Permanent Link to &quot;安卓证书与代理自动配置&quot;">安卓证书与代理自动配置</a>
                </h2>

                
                

                <p>Go to Settings &gt; Security &gt; Install from storage.</p>
<p>install programatically can be achived by from command line, by moving certs to </p>
<p>replacing bks file solely is useless, it has to be combined with the password</p>
<p>https://github.com/danzeeeman/meerkat-decompiled/blob/master/io/fabric/sdk/android/services/network/PinningInfoProvider.java</p>
<p>set …</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/an-zhuo-zheng-shu-yu-dai-li-zi-dong-pei-zhi.html">posted at 18:08</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/android.html" class="tags selected">Android</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Nov 15, 2017</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/an-zhuo-kai-fa-zhong-de-context.html" rel="bookmark" title="Permanent Link to &quot;安卓开发中的Context&quot;">安卓开发中的Context</a>
                </h2>

                
                

                <p>在安卓当中，Context几乎是无处不在的，每一个Activity是一个Context，每一个Service也是一个Context。</p>
<p>但是如果你新起了一个线程的话，你需要显式地把Context传递进去。</p>
<p>比如下面的例子：</p>
<div class="highlight"><pre><span></span>public class DumpLocationLog extends Thread {
    LocationManager lm;
    LocationHelper loc;
    public DumpLocationLog(Context context) {
        loc = new LocationHelper();
        lm = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);
    }
    public void run() {
        lm.requestLocationUpdates(LocationManager.GPS_PROVIDER, 1000L, 500.0f, loc);
    }
}
</pre></div>


<p>然后使用这个线程的时候，把this，也就是一个context的实例传递进去</p>
<p><code>new DumpLocationLog(this);</code></p>
<p>if you are in …</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/an-zhuo-kai-fa-zhong-de-context.html">posted at 05:29</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/android.html" class="tags selected">Android</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Nov 15, 2017</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/wei-an-zhuo-bian-yi-64wei-de-dropbear.html" rel="bookmark" title="Permanent Link to &quot;为安卓编译64位的dropbear&quot;">为安卓编译64位的dropbear</a>
                </h2>

                
                

                <h2>如何使用dropbear</h2>
<p>这里主要是需要在安卓上生成 host key，以及把自己的公钥传到安卓上</p>
<div class="highlight"><pre><span></span>dropbearkey -t rsa -f /data/local/dropbear_host_key # 在安卓上生成key
adb push ~/.ssh/id_rsa.pub /data/local/authorized_keys # 在宿主机把自己的密钥传过去
dropbear -F -E -r /data/local/dropbear_host_key -A -N root -C jk -R /data/local/authorized_keys # 按照给定的key启动dropbear
dropbear -P /data/local/dropbear.pid -r /data/local/dropbear_host_key -A …</pre></div>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/wei-an-zhuo-bian-yi-64wei-de-dropbear.html">posted at 05:13</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/android.html" class="tags selected">Android</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Nov 15, 2017</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/an-zhuo-fan-bian-yi-de-yi-xie-bi-ji.html" rel="bookmark" title="Permanent Link to &quot;安卓反编译的一些笔记&quot;">安卓反编译的一些笔记</a>
                </h2>

                
                

                <h1>工具</h1>
<p>apk studio</p>
<p>如何 sign：https://www.nevermoe.com/?p=373</p>
<p>smali code tutorial： https://forum.xda-developers.com/showthread.php?t=2193735</p>
<p>一篇很好的pdf的文档，利用smali code：http://www.security-assessment.com/files/documents/whitepapers/Bypassing%20SSL%20Pinning%20on%20Android%20via%20Reverse%20Engineering.pdf</p>
<h1>安卓中 pinning 的原理</h1>
<p>使用自己的keystore实例化 TrustManagerFactory</p>
<p>关键语句</p>
<div class="highlight"><pre><span></span>InputStream in = resources …</pre></div>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/an-zhuo-fan-bian-yi-de-yi-xie-bi-ji.html">posted at 05:09</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/android.html" class="tags selected">Android</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Nov 15, 2017</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/an-zhuo-de-asynctask.html" rel="bookmark" title="Permanent Link to &quot;安卓的 AsyncTask&quot;">安卓的 AsyncTask</a>
                </h2>

                
                

                <p>asynchronusally run task without explicitly creating thread.</p>
<h1>Usage</h1>
<div class="highlight"><pre><span></span>doInBackground(Params...)
onProgressUpdate(Progress...)
onPostExecute(Result)
</pre></div>


<p>Here is an example of subclassing:</p>
<div class="highlight"><pre><span></span> private class DownloadFilesTask extends AsyncTask&lt;URL, Integer, Long&gt; {
     protected Long doInBackground(URL... urls) {
         int count = urls.length;
         long totalSize = 0;
         for (int i = 0; i &lt; count; i++) {
             totalSize += Downloader.downloadFile …</pre></div>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/an-zhuo-de-asynctask.html">posted at 05:05</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/android.html" class="tags selected">Android</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>

                <div class="clear"></div>
                <div class="pages">

                    <a href="/page/2" class="next_page">Next&nbsp;&rarr;</a>
                    <span>Page 1 of 3</span>
                </div>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/jody-frankowski/blue-penguin">Blue Penguin</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
                &middot;
                <a href="/feed/atom-all.xml" rel="alternate">Atom Feed</a>
                &middot;
                <a href="/feed/rss-all.xml" rel="alternate">Rss Feed</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>