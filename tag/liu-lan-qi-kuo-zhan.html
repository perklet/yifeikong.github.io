<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Yifei Kong | articles tagged "浏览器扩展"</title>
    <link rel="shortcut icon" type="image/png" href="/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link href="/feed/atom-all.xml" type="application/atom+xml" rel="alternate" title="Yifei Kong Full Atom Feed" />
    <link href="/feed/rss-all.xml" type="application/rss+xml" rel="alternate" title="Yifei Kong Full RSS Feed" />
    <link href="/feed/atom.xml" type="application/atom+xml" rel="alternate" title="Yifei Kong Atom Feed" />
    <link href="/feed/rss.xml" type="application/rss+xml" rel="alternate" title="Yifei Kong RSS Feed" />
    <link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
    <link rel="stylesheet" href="/theme/css/pygments.css" type="text/css" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="Yifei Kong" />
</head>
<body>
    <header>
        <nav>
            <ul>
                <li class="ephemeral selected"><a href="/tag/liu-lan-qi-kuo-zhan.html">浏览器扩展</a></li>
                <li><a href="/">Home</a></li>
                <li><a href="https://github.com/">GitHub</a></li>
                <li><a href="/tags">Tags</a></li>
                <li><a href="/categories">Categories</a></li>
                <li><a href="/archives">Archives</a></li>
            </ul>
        </nav>
        <div class="header_box">
            <h1><a href="/">Yifei Kong</a></h1>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Aug 20, 2017</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/xpath-generator-shi-ru-he-shi-xian-de.html" rel="bookmark" title="Permanent Link to &quot;xpath generator 是如何实现的?&quot;">xpath generator 是如何实现的?</a>
                </h2>

                
                

                <p>写爬虫的话做到最后基本上最终没法自动化的就是指定要抽取的元素的xpath了, 要定向爬一个网站的内容基本上都会归结到去找下一页和数据元素的xpath. 如果能把xpath的生成交给不会写程序的运营同学来做的话, 能够极大地解放程序员的生产力.</p>
<p>毕竟xpath也算是一个DSL, 对于不会编程的同学还是有一定难度的. SQL写得熟练的PM多得是, 想找一个会写xpath的运营同学则是很困难, 毕竟术业有专攻, 运营需要面对的问题和我们程序猿还是有很大不同. 多年的经验, 感觉能教会他们yaml已经是极限了...</p>
<p>那么能不能有一个图形化的工具来生成xpath呢? 答案显然是有的, chrome浏览器就内置了生成xpath的工具, 如下图所示:</p>
<p><img alt="chrome xpath" src="https://ws4.sinaimg.cn/large/006tNc79ly1flhwpu64uvj31f20keaj4.jpg"></p>
<p>这幅图生成的xpath是: <code>//*[@id="fc_B_pic"]/ul[1]/li[1]/a[1]</code></p>
<p>然而chrome的xpath生成却有几个缺点:</p>
<ol>
<li>chrome的xpath只会想上去找带有id的元素, 而根据实际的情况, 往往找到带有class的元素就可以保证找的xpath是对的了.</li>
<li>chrome生成的元素是尽量保证元素唯一的, 也就是当你想要搞一个能能够选中多个元素的xpath时, chrome 无能为力, 还是需要自己去改写.</li>
<li>另外就是生成之后不能方便的用图形工具去验证.</li>
</ol>
<p>未完待续</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/xpath-generator-shi-ru-he-shi-xian-de.html">posted at 18:57</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/liu-lan-qi-kuo-zhan.html" class="tags selected">浏览器扩展</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Jun 18, 2017</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/steal-focus-from-chrome-omnibox-on-new-tab.html" rel="bookmark" title="Permanent Link to &quot;steal focus from chrome omnibox on new tab&quot;">steal focus from chrome omnibox on new tab</a>
                </h2>

                
                

                <p>chrome set focus to the omni box when you create a new tab, although there is an api to replace the new tab page. you can't steal the focus from the omni box in the new tab page simply. there are two work-arounds.</p>
<h1>if you are creating a new tab …</h1>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/steal-focus-from-chrome-omnibox-on-new-tab.html">posted at 03:02</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/liu-lan-qi-kuo-zhan.html" class="tags selected">浏览器扩展</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Jun 17, 2017</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/running-chrome-extension-from-command-line.html" rel="bookmark" title="Permanent Link to &quot;running chrome extension from command line&quot;">running chrome extension from command line</a>
                </h2>

                
                

                <p>https://stackoverflow.com/questions/22193369/run-chrome-extensions-using-command-prompt</p>
<p>chrome/firefox 插件源码的位置:</p>
<ol>
<li>Chrome <code>~/Library/Application Support/Google/Chrome/Default/Extensions/&lt;EXTENSION_ID&gt;/</code></li>
<li>Firefox  <code>~/Library/Application Support/Firefox/Profiles/PROFILE_ID/extensions/EXTENSION_ID/</code></li>
</ol>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/running-chrome-extension-from-command-line.html">posted at 02:14</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/liu-lan-qi-kuo-zhan.html" class="tags selected">浏览器扩展</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Jun 12, 2017</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/chrome-extension-runtime.html" rel="bookmark" title="Permanent Link to &quot;Chrome Extension runtime&quot;">Chrome Extension runtime</a>
                </h2>

                
                

                <h1>basic usage</h1>
<div class="highlight"><pre><span></span>chrome.runtime.getBackgroundPage(function(window) {})  // retrive the background page&#39;s window object
</pre></div>


<div class="highlight"><pre><span></span>chrome.runtime.getURL(path)  // get the absolute url for given file in extension package
</pre></div>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/chrome-extension-runtime.html">posted at 15:00</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/liu-lan-qi-kuo-zhan.html" class="tags selected">浏览器扩展</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Jun 12, 2017</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/chrome-extension-storage.html" rel="bookmark" title="Permanent Link to &quot;Chrome Extension storage&quot;">Chrome Extension storage</a>
                </h2>

                
                

                <h1>Basic Concepts</h1>
<p>there are 3 storage area for chrome, <code>sync</code>, <code>local</code>, <code>managed</code> areas. the <code>sync</code> area will be synced with the cloud. managed area is read-only.</p>
<p>all your extension scripts share the same storage, including content scripts, they don't belong to their domain's localStorage.</p>
<h1>Usage</h1>
<div class="highlight"><pre><span></span>chrome.storage.local.get(&#39;key …</pre></div>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/chrome-extension-storage.html">posted at 13:30</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/liu-lan-qi-kuo-zhan.html" class="tags selected">浏览器扩展</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Jun 12, 2017</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/chrome-extension-cookies.html" rel="bookmark" title="Permanent Link to &quot;Chrome extension cookies&quot;">Chrome extension cookies</a>
                </h2>

                
                

                <h1>permissions</h1>
<p>set the cookies permission and the domain you would like to access cookies.</p>
<div class="highlight"><pre><span></span>&quot;permissions&quot;: {
    &quot;cookies&quot;,
    &quot;*://*.example.com/&quot;
}
</pre></div>


<h1>type</h1>
<h2>cookie</h2>
<p>just a simple object with <code>{name, value, domain...}</code></p>
<h2>CookieStore</h2>
<p>normal mode and incognito mode use different cookie stores.</p>
<h1>read</h1>
<p>get: <code>chrome.cookies.get({url: URL, name: COOKIE_NAME, storeId: COOKIE_STORE_ID}, function …</code></p>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/chrome-extension-cookies.html">posted at 08:01</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/liu-lan-qi-kuo-zhan.html" class="tags selected">浏览器扩展</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">Jun 09, 2017</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/chrome-kuo-zhan-cha-jian-kai-fa.html" rel="bookmark" title="Permanent Link to &quot;Chrome 扩展插件开发&quot;">Chrome 扩展插件开发</a>
                </h2>

                
                

                <p>A chrome extension can inject script into the page, this is called content script.</p>
<p>https://developer.chrome.com/extensions/getstarted
https://developer.chrome.com/extensions/content_scripts
https://developer.chrome.com/extensions/messaging</p>
<p>图标变灰的问题</p>
<p>Add browser_action.default_icon in your manifest.json file</p>
<div class="highlight"><pre><span></span>{
  ...

  &quot;browser_action&quot;: {
    &quot;default_icon&quot;: &quot;icons/icon-32.png&quot;
  },

  ...
}
</pre></div>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/chrome-kuo-zhan-cha-jian-kai-fa.html">posted at 05:11</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/liu-lan-qi-kuo-zhan.html" class="tags selected">浏览器扩展</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>            <h4 class="date">May 29, 2017</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/xue-xi-greasemonkey-jiao-cheng.html" rel="bookmark" title="Permanent Link to &quot;学习 greasemonkey 教程&quot;">学习 greasemonkey 教程</a>
                </h2>

                
                

                <p>GreaseMonkey/TamperMonkey 学习</p>
<h1>头部命令</h1>
<ul>
<li>@name | 脚本名字| </li>
<li>@namespace|命名空间|  </li>
<li>@version| 版本| </li>
<li>@author|作者|       </li>
<li>@description      </li>
<li>@homepage     </li>
<li>@icon     </li>
<li>@updateURL        </li>
<li>@downloadURL      </li>
<li>@include      </li>
<li>@exclude      </li>
<li>@resource key url     </li>
<li>@require  include scripts </li>
<li>@connect  reach cross origin domains  self, current domain, localhost,  or *</li>
<li>@run-at   when to run the script  document-start/document-body/document-end/document-idle/context-menu</li>
<li>@grant    whitelist GM_* functions …</li></ul>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/xue-xi-greasemonkey-jiao-cheng.html">posted at 15:23</a>
                    &nbsp;&middot;&nbsp;<a href="/category/ji-suan-ji.html" rel="tag">计算机</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/da-qian-duan.html" class="tags">大前端</a>
                    &nbsp;<a href="/tag/liu-lan-qi-kuo-zhan.html" class="tags selected">浏览器扩展</a>
                    &nbsp;<a href="/tag/ji-suan-ji.html" class="tags">计算机</a>
                </div>
            </article>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/jody-frankowski/blue-penguin">Blue Penguin</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
                &middot;
                <a href="/feed/atom-all.xml" rel="alternate">Atom Feed</a>
                &middot;
                <a href="/feed/rss-all.xml" rel="alternate">Rss Feed</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>